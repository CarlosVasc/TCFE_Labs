\section{Simulation Analysis}
\label{sec:simulation}

In this section, the intent is to simulate the circuit, using \textit{Ngspice} software with the model uA741 as the AMP-OP.

Time and, more importantly, frequency analysis were performed in order to evaluate the circuit in the passband (specifically, the output voltage gain along with its phase), the central frequency of the passband, and the input (Zin) and output (Zout) impedances in the central frequency. The following table represents the major results of interest.

\begin{table}[h]
    \centering
    \begin{tabular}{|l|r|}
      \hline    
      {\bf Name} & {\bf Value [A or V]} \\ \hline
      \input{../doc/op_results_tab.tex}
      \input{../doc/op_Zin_tab.tex}
      \input{../doc/op_Zout_tab.tex}
    \end{tabular}
    \caption{Main results measured in NGSpice software.}
 \end{table}

Note that the gain at 1kHz isn't in dBs, but in volts: it corresponds to 42.02628 dBs.
The following figures are the computations of the output voltage gain and its phase as a function of frequency.

\begin{figure}[!htb]
    \centering
    \includegraphics[width=0.9\textwidth]{../doc/vdbo2f.pdf}
    \caption{\textit{Ngspice's} output voltage gain}
\end{figure}

\begin{figure}[!htb]
    \centering
    \includegraphics[width=0.9\textwidth]{../doc/vpho2f.pdf}
    \caption{Phase frequency analysis of the output voltage gain using NGSpice.}
\end{figure}



\clearpage

\subsection{Comparasion}
\label{sec:comparasion}

Here, the results obtained with each software / approach are presented.




The obtained obtained values in the tables are approximatly the same and in the plots aswell. The differences in the gain plots are present mostly at higher frequencies, after the peak, which occurs at about 1kHz and 40dBs in both analysis, as intended. After those frequencies, and namely around 10kHz, the gain obtained with Ngspice drops a lot faster. The aformentioned discrepancies may be due to the fact that Ngpice uses models a lot more complex than the ones considered in our theoretical analysis. Specifically, the said increase in complexity and exactitude (with Ngspice) may lead to a greater effect of the input impedance drop at higher frequencies, that may naturally result in a greater drop in the output voltage gain. The differences in the phase plots also come from the greater complexity in the models used by the Ngspice software. Ngspice performs the simulation considering that the AMP-OP has two capacitors and, in the theoretical analysis, they are disregarded. As such, the Ngspice plot predicts a decrease of an extra 180 degrees (-90 degrees for each capacitor), which is not expected in the Octave plot.

Note that, considering both the simulation and the theoretical analysis approach, the circuit does function like a passband circuit, with a narrow yet significant bandwith, centered around the frequency and gain established as goals. as seen in the presented figures.